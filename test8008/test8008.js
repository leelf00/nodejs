const net = require("net");

let client = net.createConnection({port: 8008,host:'172.18.4.114'}, () => {
  //'connect' listener
  console.log('connected to mc server!');

  let pack;
  client.on('data', (data) => {
    //console.log(data.toString());
    //console.log(data.length);
    //pack += data;
    console.log('[read]:',data.toString('hex'));
    //client.end();
  });
  client.on('end', () => {
    //console.log(pack);
    console.log('disconnected from server');
  });


  //心跳报文
  let _hb = new Buffer("fa0000500031300100100030400001001000000000000000000000000000000000000000026e9f", "hex");
  //加油机心跳报文
  //var _hb = new Buffer("fa000000003130010010001030100200000012345678901212345678901200000000000000e4be", "hex");
  //加油机交易报文
  //var _pc_deal = new Buffer("fa0000700143320000a5070020160811160129010013111000000101640000000000570900000000000000000000000000000000000000000000000010010000000500000000000000100d1030000fa7022c0009a2f234ec97f43b01000000000000000000000000010010003040000100001100058410011000027901000000000108000000155613010100000000104900000000ff21", "hex");
  //var _pc_deal_crcdata = new Buffer("0000700143320000a5070020160811160129010013111000000101640000000000570900000000000000000000000000000000000000000000000010010000000500000000000000100d1030000fa7022c0009a2f234ec97f43b01000000000000000000000000010010003040000100001100058410011000027901000000000108000000155613010100000000104900000000", "hex");
  //pos-ttc 00a50700
  //
  //写出
  client.write(_hb);
  //client.end();
});